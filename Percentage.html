<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <title>Percentage</title>

    <style>
        body{
            background-color: #000000;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg %3E%3Cpolygon fill='%23222222' points='800 100 0 200 0 800 1600 800 1600 200'/%3E%3Cpolygon fill='%23444444' points='800 200 0 400 0 800 1600 800 1600 400'/%3E%3Cpolygon fill='%23666666' points='800 300 0 600 0 800 1600 800 1600 600'/%3E%3Cpolygon fill='%23888888' points='1600 800 800 400 0 800'/%3E%3Cpolygon fill='%23aaaaaa' points='1280 800 800 500 320 800'/%3E%3Cpolygon fill='%23cccccc' points='533.3 800 1066.7 800 800 600'/%3E%3Cpolygon fill='%23EEE' points='684.1 800 914.3 800 800 700'/%3E%3C/g%3E%3C/svg%3E");
    background-attachment: fixed;
    background-size: cover;color: wheat;
        }
    </style>
</head>
<body>
    <div style="display: flex; flex-direction: column; justify-content: center;" class="containerr">
        <h1 style="margin-left: 20%; margin-bottom: 20px;">Find Pecentage Here</h1>
            <input class="form-control" style="margin-left: 20%; margin-bottom: 3px; width: 55%;" type="number" id="tNumber" placeholder="Enter Total Marks to Change">
            <input class="form-control" style="margin-left: 20%; width: 55%;" type="number" id="inputNumber" placeholder="Enter Obt. Marks">
            <p style="margin-top: 10px; margin-left: 25%;" id="resultt"></p>
            <h6 style="color: wheat; margin-left: 25%; padding: 5px 0 5px 0;" id="totalLabel">
                Default Total Marks: 240 <br>
                Enter Total Marks to Change</h6>
        </div>

 <script>
    let inputTimer; // Declare the inputTimer outside of the event handlers

function updateTotalLabel(totalNumberByUser) {
    const totalLabel = document.getElementById('totalLabel');
    totalLabel.innerText = `Total Marks: ${totalNumberByUser}`;
}

document.getElementById("inputNumber").addEventListener("input", function () {
    clearTimeout(inputTimer);
    const inputNumber = parseFloat(this.value);
    const totalNumberByUser = parseInt(document.getElementById('tNumber').value) || 240;

    if (isNaN(inputNumber)) {
        document.getElementById("resultt").textContent = "";
        return;
    }

    updateTotalLabel(totalNumberByUser);

    const result = (inputNumber / totalNumberByUser) * 100;
    document.getElementById("resultt").textContent = `${inputNumber} From ${totalNumberByUser} = ${result.toFixed(2)}%`;

    // Clear the input field after 2 seconds
    inputTimer = setTimeout(() => {
        document.getElementById("inputNumber").value = '';
    }, 2000);
});

// Listen for changes in the total number input
document.getElementById("tNumber").addEventListener("input", function () {
    clearTimeout(inputTimer); // Clear the timer if the total number changes
    const totalNumberByUser = parseInt(this.value) || 240;
    const inputNumber = parseFloat(document.getElementById('inputNumber').value);

    if (isNaN(inputNumber)) {
        document.getElementById("resultt").textContent = "";
        return;
    }

    updateTotalLabel(totalNumberByUser);

    const result = (inputNumber / totalNumberByUser) * 100;
    document.getElementById("resultt").textContent = `${inputNumber} / ${totalNumberByUser} = ${result.toFixed(2)}%`;
});
 </script>       
 <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</body>
</html>